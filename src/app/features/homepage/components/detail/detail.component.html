<!--
    pdf
    url: !mobile
    * pdf: !safari (google) !mobile (google)
    google: slow
 -->

<!-- 
    docx
    url: download
    google: :)
    * office: :) mobile(not responsive)
 -->

<!-- 
    pptx
    google: :)
    * office: :)
 -->

<!-- 
    xlsx
    google: show like img
    * office: 
 -->

<main class="flex_start gap-1 flex_wrap">
    <!-- Card -->
    <div>
        <button mat-raised-button>
            <mat-icon>arrow_back</mat-icon>
            <span>Volver a resultados</span>
        </button>

        <mat-card class="card">
            <div class="flex_column gap-1">
                <div class="flex_between_center">
                    <div>
                        <div class="flex_start_center gap-05 time-data">
                            <mat-icon>schedule</mat-icon>
                            <span>
                                Hace {{ post.created_at|timeAgo }} por
                                {{ post.user|getUsername }} <br> {{ post.user.education.name }} en {{ post.user.institution.name }}
                            </span>
                        </div>
                    </div>
                    <button mat-icon-button>
                        <mat-icon *ngIf="!!post.is_liked">favorite</mat-icon>
                        <mat-icon *ngIf="!!!post.is_liked">favorite_outline</mat-icon>
                    </button>
                </div>
        
                <mat-card-title>{{ post.title }}</mat-card-title>
                <div>{{ post.description }}</div>
        
                <mat-chip-list class="flex_start_center flex_wrap">
                    <mat-chip class="academic-level-tag">
                        <span>Nivel acad√©mico: {{ post.academic_level.name }}</span>
                    </mat-chip>
                    <mat-chip class="subject-tag">
                        <span>Asignatura: {{ post.axis.subject.name }}</span>
                    </mat-chip>
                    <mat-chip class="axis-tag">
                        <span>Eje: {{ post.axis.name }}</span>
                    </mat-chip>
                </mat-chip-list>
        
                <div class="flex_start_center gap-05">
                    <mat-icon>description</mat-icon>
                    <span>{{ post.suporting_material?.length ?? 0 + 1 }} Documentos</span>
                </div>
                <div class="flex_column gap-05">
                    <div class="document">
                        <span>planificacion_de_ejemplo.pdf</span>
                        <button mat-raised-button class="download-button pdf-button">
                            <span>.pdf</span>
                            <mat-icon>download</mat-icon>
                        </button>
                    </div>
                    <div class="document">
                        <span>planificacion_de_ejemplo.doc</span>
                        <button mat-raised-button class="download-button doc-button">
                            <span>.docx</span>
                            <mat-icon>download</mat-icon>
                        </button>
                    </div>
                    <div class="document">
                        <span>planificacion_de_ejemplo.pdf</span>
                        <button mat-raised-button class="download-button pdf-button">
                            <span>.pdf</span>
                            <mat-icon>download</mat-icon>
                        </button>
                    </div>
                </div>

                <div class="flex_between_center">
                    <div class="flex_start_center gap-05">
                        <mat-icon>favorite</mat-icon>
                        <span>{{ post.likes }} Me gusta</span>
                    </div>
                    <div class="flex_start_center gap-05">
                        <mat-icon>cloud_download</mat-icon>
                        <span>{{ post.downloads }} Descargas</span>
                    </div>
                </div>
            </div>
        </mat-card>
    </div>

    <!-- Doc preview -->
    <!-- <ngx-doc-viewer
        class="doc-preview"
        [url]="pdf"
        viewer="google"
    ></ngx-doc-viewer> -->

    <ngx-doc-viewer
        class="doc-preview"
        [url]="docx"
        viewer="office"
    ></ngx-doc-viewer>
    
    <!-- <ngx-doc-viewer
        class="doc-preview"
        [url]="pptx"
        viewer="office"
    ></ngx-doc-viewer> -->
    
    <!-- <ngx-doc-viewer
        class="doc-preview"
        [url]="xlsx"
        viewer="office"
    ></ngx-doc-viewer> -->

</main>